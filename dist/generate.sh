#!/bin/sh
set -e

#--------------------------------------------------------------------------------------------------
# Syntax
#--------------------------------------------------------------------------------------------------

if [ $# != 1 ] || [ $1 != "win32" -a $1 != "win32-msvc" ]; then

    echo "Usage: generate <win32 | win32-msvc>"

    exit 1
fi

#--------------------------------------------------------------------------------------------------
# Install
#--------------------------------------------------------------------------------------------------

PATH="/c/Program Files/7-Zip:$PATH"

#--------------------------------------------------------------------------------------------------
# Archive
#--------------------------------------------------------------------------------------------------

echo "COMPRESSING ZIP"

archive="3rdparty-$1.zip"

rm -f $archive

path=3rdparty/$1

rm $path/.gitignore

7z a $archive "3rdparty/$1"

touch $path/.gitignore
