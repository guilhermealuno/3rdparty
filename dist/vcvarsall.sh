#!/bin/sh
set -e

#--------------------------------------------------------------------------------------------------
# Settings
#--------------------------------------------------------------------------------------------------

BuildTools="C:\Program Files (x86)\Microsoft Visual Studio\2019\BuildTools\VC\Auxiliary\Build"

#--------------------------------------------------------------------------------------------------
# Syntax
#--------------------------------------------------------------------------------------------------

if [ $# != 1 ] || [ $1 != "win32-msvc" -a $1 != "win64-msvc" ]; then

    echo "Usage: vcvarsall <win32-msvc | win64-msvc>"

    exit 1
fi

#--------------------------------------------------------------------------------------------------
# BuildTools
#--------------------------------------------------------------------------------------------------

cd "$BuildTools"

if [ $1 = "win32-msvc" ]; then

    ./vcvarsall.bat x86
else
    ./vcvarsall.bat x64
fi
