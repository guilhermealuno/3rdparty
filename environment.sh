#!/bin/sh
set -e

#--------------------------------------------------------------------------------------------------
# Settings
#--------------------------------------------------------------------------------------------------

compiler_win="mingw"

#--------------------------------------------------------------------------------------------------
# Syntax
#--------------------------------------------------------------------------------------------------

if [ $# != 1 ] || [ $1 != "mingw" -a $1 != "msvc" ]; then

    echo "Usage: environment <mingw | msvc>"

    exit 1
fi

#--------------------------------------------------------------------------------------------------
# Replacements
#--------------------------------------------------------------------------------------------------

expression='s/compiler_win=\"'"$compiler_win"'"/compiler_win=\"'"$1"'"/g'

sed -i $expression environment.sh

sed -i $expression generate.sh
