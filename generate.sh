#!/bin/sh
#set -e

#--------------------------------------------------------------------------------------------------
# Settings
#--------------------------------------------------------------------------------------------------

source="http://omega.gg/get/Sky/3rdparty"

#--------------------------------------------------------------------------------------------------
# Syntax
#--------------------------------------------------------------------------------------------------

if [ $# != 1 ] || [ $1 != "win32" -a $1 != "win64" -a $1 != "macOS" -a $1 != "linux32"   -a \
                                                                       $1 != "linux64"   -a \
                                                                       $1 != "android32" -a \
                                                                       $1 != "android64" ]; then

    echo "Usage: generate <win32 | win64 | macOS | linux32 | linux64 | android32 | android64>"

    exit 1
fi

#--------------------------------------------------------------------------------------------------
# Install
#--------------------------------------------------------------------------------------------------

if [ $2 = "linux32" -o $2 = "linux64" ]; then

    sh install.sh install $1

    exit 0
fi

#--------------------------------------------------------------------------------------------------
# Configuration
#--------------------------------------------------------------------------------------------------

source="$source/$1"

#--------------------------------------------------------------------------------------------------
# Download
#--------------------------------------------------------------------------------------------------

echo "DOWNLOADING 3rdparty"
echo "$source"

curl -L -o 3rdparty.zip --retry 3 "$source"

7z x 3rdparty.zip
